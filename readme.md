# What is this

This is a wrapper library for text to speech api services below:

* [Microsoft Azure Text to Speech API](https://azure.microsoft.com/services/cognitive-services/text-to-speech/)
* [IBM Watson Text to Speech API](https://www.ibm.com/watson/services/text-to-speech/)
* [Amazon Polly](https://aws.amazon.com/jp/polly/)
* [Google Cloud Text-to-Speech](https://cloud.google.com/text-to-speech/)

# How to use

## 0. Credentials

Register accounts to use them and get credentials.

## 1. Instantiation and authentication

```python
from cloudtts import XXXClient

cred = {'region': 'westus',
        'api_key': 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'}
c = XXXClient(cred)
```

or

```python
from cloudtts import XXXClient

c = XXXClient()
cred = {'region': 'westus',
        'api_key': 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'}
c.auth(cred)
```

You can use AzureClient, GoogleClient, PollyClient and WatsonClient for XXXClient.


## 2. Synthesize text

```python
audio = c.tts('Hello world!')
```

tts() method receives three arguments.

* `text` (required) : String to be synthesized.
* `voice_config` (optional) : Configuration to synthesize text. VoiceConfig is described in following section.
* `detail` (optional) : Parameters to synthesize text.


# voice_config and detail for tts()

There are two parameters to configure voice which are voice_config and detail.

## voice_config

voice_config is an instance of VoiceConfig class. It is instantiated with three parametes.

* audio_format : You can specify audio format. Available formats and services are listed below. Default value is mp3.
    * cloudtts.AudioFormat.mp3 : Azure, Google, Polly, Watson
    * cloudtts.AudioFormat.ogg_opus : Google, Watson
    * cloudtts.AudioFormat.ogg_vorbis : Polly, Watson
    * cloudtts.AudioFormat.pcm : Azure, Polly
* gender : You can specify gender of voice. Available genders are listed below. Default value is female.
    * cloudtts.Gender.male
    * cloudtts.Gender.female
* language : You can specify language of voice. Available languages are listed below. Default value is en_US.
    * cloudtts.Language.da_DK : Azure / Polly
    * cloudtts.Language.de_DE : Azure / Google / Polly / Watson
    * cloudtts.Language.en_AU : Azure / Google / Polly
    * cloudtts.Language.en_GB : Azure / Google / Polly / Watson
    * cloudtts.Language.en_IN : Azure / Polly
    * cloudtts.Language.en_US : Azure / Google / Polly / Watson
    * cloudtts.Language.es_ES : Azure / Google / Polly / Watson
    * cloudtts.Language.es_US : Polly / Watson
    * cloudtts.Language.fr_CA : Azure / Google / Polly
    * cloudtts.Language.fr_FR : Azure / Google / Polly / Watson
    * cloudtts.Language.hi_IN : Azure / Polly
    * cloudtts.Language.it_IT : Azure / Google / Polly / Watson
    * cloudtts.Language.ja_JP : Azure / Google / Polly / Watson
    * cloudtts.Language.ko_KR : Azure / Google / Polly
    * cloudtts.Language.nb_NO : Azure / Polly
    * cloudtts.Language.nl_NL : Azure / Google / Polly
    * cloudtts.Language.pl_PL : Azure / Polly
    * cloudtts.Language.pt_BR : Azure / Google / Polly / Watson
    * cloudtts.Language.pt_PT : Azure / Polly
    * cloudtts.Language.ro_RO : Azure / Polly
    * cloudtts.Language.ru_RU : Azure / Polly
    * cloudtts.Language.sv_SE : Azure / Google / Polly
    * cloudtts.Language.tr_TR : Azure / Google / Polly

## detail

detail is a dictionary. You can specifiy service specific key-values, like

* `"language": "zh-CN", "gender": "female", "voice": "Yaoyao, Apollo"` for Azure
* `"gender": texttospeech.enums.SsmlVoiceGender.FEMALE` for Google
* `"sample_rate": "16000"` for Polly
* `"voice": "en-US_LisaVoice"` for Watson

detail overwrites values which are generated by VoiceConfig.

## Sample code

```python
from cloudtts import XXXClient
from cloudtts import AudioFormat
from cloudtts import Gender
from cloudtts import Language
from cloudtts import VoiceConfig

cred = {'api_key': 'xxxx'}
client = XXXClient(cred)

# No voice_config is specified and default values of VoiceConfig will be used
audio = client.tts('Hello world')
with open('/path/to/en_US_female.mp3', 'wb'):
    f.write(audio)

# Specifiy to synthesize male
vc = VoiceConfig(gender=Gender.male)
audio = client.tts('Hello world', voice_config=vc)
with open('/path/to/en_US_male.mp3', 'wb'):
    f.write(audio)

# Specifiy to synthesize Japanese male
vc = VoiceConfig(gender=Gender.male, language=Language.ja_JP)
audio = client.tts('こんにちは！', voice_config=vc)
with open('/path/to/ja_JP_male.mp3', 'wb'):
    f.write(audio)


# Specifiy to synthesize Japanese male ogg_opus file
vc = VoiceConfig(audio_format=AudioFormat.ogg_opus,
                 gender=Gender.male,
                 language=Language.ja_JP)
audio = client.tts('こんにちは！', voice_config=vc)
with open('/path/to/ja_JP_male.ogg', 'wb'):
    f.write(audio)

```

# Clients

## PollyClient

### Credential

PollyClient requires a credential which is an instance of PollyCredential to run tts().  When you construct a PollyCredential instance, "region_name" is required.  You can set "aws_access_key_id" and "aws_secret_access_key".
